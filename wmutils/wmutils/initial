#!/bin/bash
#
# Reset window to initial size.
tmp_dir="/tmp/win"
cur="$(pfw)"

save_size() {
    mkdir -p "$tmp_dir"
    wattr wh "$cur" > "${tmp_dir}/win-${cur}"
}

initial() {
    [[ ! -f "${tmp_dir}/win-${cur}" ]] && exit 1

    read -ra win < "${tmp_dir}/win-${cur}"
    wrs "${win[@]}" "cur"
    echo "${win[@]}"
}

case "$1" in
    save) save_size ;;
    *)    initial ;;
esac
